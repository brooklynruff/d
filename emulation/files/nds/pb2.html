
<body style="margin:0px;">
    <div style='width:100%;height:100%;margin:0px;'>
        <center id='downloading' style="width:100%;height:100%; background-color: black; color:white;"><h1 id="downloadingtext">Downloading, please wait...</h1></center>
        <div id='game'></div>
    </div>

    <script type='text/javascript'>
        function getMerged() {
            let downloadingtext = document.getElementById("downloadingtext");
            return new Promise((resolve, reject) => {
                let dataUrl = "";
                let buffers = [];
                let partUrl = "https://cdn.jsdelivr.net/gh/brooklynruff/d@main/emulation/roms/nds/pb2/"
                let fileName = "pb2.nds"
                let length = 14;
                let completed = 0;

                for (let i = 1; i <= length; i++) {
                    fetch(partUrl + fileName + ".part" + i.toString()).then((response) => response.arrayBuffer()).then((data) => {
                        buffers[i] = data;
                        completed++;
                        downloadingtext
                        if (completed == length) {
                            resolve(URL.createObjectURL(new Blob(buffers)));
                        }
                    })
                }
            })
        }

        EJS_player = '#game';
        
        EJS_core = 'nds';
        
        EJS_pathtodata = 'https://cdn.jsdelivr.net/gh/brooklynruff/d@main/emulation/data/';

        EJS_alignStartButton = "center";
        EJS_backgroundImage = "https://cdn.jsdelivr.net/gh/brooklynruff/d@main/bg.png";

        
    </script>
    
<body>
